import { HookTypeScriptHints } from '../components'
import { Link } from '@brillout/docpress'

The client-side `onRenderClient()` hook exported in `+onRenderClient.js` files (usually `/renderer/+onRenderClient.js`)
defines how a page is rendered/<Link text="hydrated" href="/hydration" /> on the browser-side.

```js
// /**/+onRenderClient.js (usually /renderer/+onRenderClient.js)
// Environment: browser

import { renderToDom, hydrateDom } from 'some-ui-framework'

export { onRenderClient }

async function onRenderClient(pageContext) {
  const { Page } = pageContext

  // SPA:
  await renderToDom(Page)

  // SSR:
  await hydrateDom(Page)
}
```

Where:
 - `Page` is the <Link text={<>page's <code>{'export { Page }'}</code></>} href="/Page" />.
 - `pageContext` is a subset of the `pageContext` defined on the server-side.

We use [`passToClient`](/passToClient) to determine what subset of `pageContext` is sent to the browser.

> See [Render Modes](/render-modes) and [`clientRouting`](/clientRouting) for illustrations of conditional DOM
> hydration, for supporting both SPA and SSR.


## SPA vs SSR

When implementing SSR, the client-side `onRenderClient()` hook works in tandem with the
<Link text={<>server-side <code>onRenderHtml()</code> hook</>} href="/onRenderHtml" />: the server-side `onRenderHtml()`
hook renders the page to HTML and the client-side `onRenderClient()` hook <Link text="hydrates" href="/hydration" /> the
HTML.

When implementing an SPA, then the client-side `onRenderClient()` hook is solely responsible for rendering the page.
(There is still a server-side `onRenderHtml()` hook but it only renders the HTML shell; it doesn't render
`pageContext.Page` to HTML.)

See <Link href='/render-modes' />.


## Multiple `onRenderClient()` hooks

If we `export { onRenderClient }` in `/pages/star-wars/+onRenderClient.js` then we define how
`/pages/star-wars/+Page.js` is rendered while overriding `/renderer/+onRenderClient.js`.

And, defining multiple `onRenderClient()` hooks, with multiple `+onRenderClient.js` files, enables us to define
different rendering for different pages. See <Link href='/multiple-renderer' />.


## TypeScript

```ts
// /**/+onRenderClient.ts (usually /renderer/+onRenderClient.ts)
// Environment: browser

export { onRenderClient }

import type { OnRenderClientAsync } from 'vike/types'
import { hydrateDom } from 'some-ui-framework'

const onRenderClient: OnRenderClientAsync = async (
  pageContext
): ReturnType<OnRenderClientAsync> => {
  const { Page } = pageContext
  await hydrateDom(Page) // SSR
}
```

<!-- NOTE(aurelien) no HookTypeScriptHints here because onRenderClient has no return value -->
